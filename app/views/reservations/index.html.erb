<div class="margin-top" style="width: 620px;">
    <div class="bg-dark p-3 rounded">
        <h3>Reservations</h3>
    </div>
    <div id="accordion" class="mt-3 mb-4">
        <% if @reservations.empty? %>
            <div class="bg-dark p-3 rounded d-flex align-items-center">
                <div>There are no bookings made.</div>
            </div>
        <% else %>
            <% @reservations.reverse().each do |data| %>
            <div class="card bg-dark">
                <a class="btn text-light card-header" data-bs-toggle="collapse" href="#id-<%= data.id %>">
                    <div class="row" style="text-align: left;">
                        <div class="col">
                            <strong>Name: </strong><%= data.name %><br><br>
                            <strong>Booked on: </strong><%= data.formatted_created_at %>
                        </div>
                        <div class="col">
                            <strong>Departure: </strong><%= data.departure %><br>
                            <strong>Destination: </strong><%= data.destination %><br>
                            <strong>Date and Time: </strong><%= data.formatted_date_time %>
                        </div>
                    </div>
                </a>
                <div id="id-<%= data.id %>" class="collapse" data-bs-parent="#accordion">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <strong>Base Price (&#8369;): </strong><%= data.base_price %><br>
                                <strong>Selected Seats: </strong><%= data.seats %><br>
                                <strong>Total Price (&#8369;): </strong><%= data.total_price %><br>
                                <strong>Email: </strong><%= data.email %><br>
                                <strong>Confirmation Code: </strong><%= data.confirmation %><br>
                                <strong>Status: </strong><%= data.status %><br>
                            </div>
                            <div class="col d-flex align-items-end justify-content-end">
                                <%= form_for @cancellation, url: del_rsrv_path do |f| %>
                                    <%= f.hidden_field :id, value: data.id %>
                                    <%= f.hidden_field :datetime, value: data.formatted_date_time_for_comparison %>
                                    <% if Date.current.strftime('%Y-%m-%d') == data.formatted_date_time_for_comparison %>
                                        <%= f.submit 'Cancel Booking', class: "btn btn-danger" %>
                                    <% else %>
                                        <%= link_to 'Cancel Booking',
                                            confirm_path(rsrv_id: data.id),
                                            class: "btn btn-danger" %>
                                    <% end %>
                                <% end %>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% end %>
        <% end %>
    </div>
</div>